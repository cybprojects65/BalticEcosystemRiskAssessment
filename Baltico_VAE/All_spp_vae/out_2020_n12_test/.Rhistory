setwd("~/Risk Assessment Mar Baltico - NOVEMBRE/Risk assessment_novembre/Baltico_VAE/All_spp_vae/out_2020_n12_test")
# Leggi i due file CSV
fileA <- read.csv("classification_test_1904X13_648e51958d44f53c60052452753854556152254b53349#13a43.csv")
fileB <- read.csv("output_VAE_2020.csv")
# Controlla se entrambi hanno la colonna "log_probability"
if(!("reconstruction_log_probability" %in% names(fileA)) | !("reconstruction_log_probability" %in% names(fileB))) {
stop("Entrambi i file devono contenere la colonna 'reconstruction_log_probability'")
}
# Confronta i valori riga per riga
confronto <- fileA$reconstruction_log_probability == fileB$reconstruction_log_probability
# Visualizza i primi risultati
head(confronto)
# Conta quante righe coincidono e quante no
uguali <- sum(confronto, na.rm = TRUE)
diversi <- sum(!confronto, na.rm = TRUE)
cat("Righe uguali:", uguali, "\n")
cat("Righe diverse:", diversi, "\n")
# (Opzionale) Mostra le righe dove i valori non coincidono
differenze <- data.frame(
riga = which(!confronto),
log_prob_A = fileA$reconstruction_log_probability[!confronto],
log_prob_B = fileB$reconstruction_log_probability[!confronto]
)
head(differenze)
# Leggi i due file CSV
fileA <- read.csv("classification_test_1904X13_648e51958d44f53c60052452753854556152254b53349#13a43.csv")
fileB <- read.csv("output_VAE_2020.csv")
# Controlla se entrambi hanno la colonna "log_probability"
if(!("reconstruction_log_probability" %in% names(fileA)) | !("reconstruction_log_probability" %in% names(fileB))) {
stop("Entrambi i file devono contenere la colonna 'reconstruction_log_probability'")
}
# Definisci una tolleranza
tolleranza <- 1e-12
# Confronto approssimato
confronto <- abs(fileA$reconstruction_log_probability - fileB$reconstruction_log_probability) < tolleranza
# Conta righe uguali e diverse
uguali <- sum(confronto, na.rm = TRUE)
diversi <- sum(!confronto, na.rm = TRUE)
cat("Righe uguali (entro tolleranza):", uguali, "\n")
cat("Righe diverse (oltre tolleranza):", diversi, "\n")
# Mostra le prime righe che non coincidono
differenze <- data.frame(
riga = which(!confronto),
log_prob_A = fileA$reconstruction_log_probability[!confronto],
log_prob_B = fileB$reconstruction_log_probability[!confronto],
differenza = abs(fileA$reconstruction_log_probability[!confronto] - fileB$reconstruction_log_probability[!confronto])
)
head(differenze)
